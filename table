CREATE table FONCTION(
	ID_FONCTION NUMBER NOT NULL,
	NOM VARCHAR2(20) NOT NULL,
	CONSTRAINT CARTE_PK PRIMARY KEY (ID_Fonction)
);

CREATE SEQUENCE fonct_seq 
START WITH 1
INCREMENT BY 1
NOCACHE
NOCYCLE;



CREATE table CARTE(
	ID_CARTE NUMBER NOT NULL,
	NUMERO VARCHAR2(20) NOT NULL,
	PERSONNE NUMBER NOT NULL,
	CONSTRAINT CARTE_PK PRIMARY KEY (ID_CARTE),
	CONSTRAINT FK_PERSONNE
		FOREIGN KEY (PERSONNE)
		REFERENCES PERSONNE(ID_PERSONNE)
		ON DELETE CASCADE
);

CREATE SEQUENCE carte_seq 
START WITH 1
INCREMENT BY 1
NOCACHE
NOCYCLE;


CREATE table PERSONNE(
	ID_PERSONNE NUMBER NOT NULL,
	NOM VARCHAR2(20) NOT NULL,
	PRENOM VARCHAR2(20) NOT NULL,
	DATENAISSANCE DATE NOT NULL,
	FONCTION NUMBER NOT NULL,
	CONSTRAINT PERSONNE_PK primary key (ID_PERSONNE),
	CONSTRAINT FK_FONCTION
		FOREIGN KEY (FONCTION)
		REFERENCES FONCTION(ID_FONCTION)
);


CREATE SEQUENCE pers_seq 
START WITH 1
INCREMENT BY 1
NOCACHE
NOCYCLE;



CREATE TABLE LIEUX(
	ID_LIEU NUMBER NOT NULL,
	EMPLACEMENT VARCHAR2(20) NOT NULL,
	NB_ACCES NUMBER NOT NULL,
	CONSTRAINT LIEU_PK primary key (ID_LIEU)
);

CREATE SEQUENCE lieu_seq 
START WITH 1
INCREMENT BY 1
NOCACHE
NOCYCLE;

	
CREATE TABLE ACCES(
    ID_ACCES NUMBER NOT NULL,
	ID_LIEU NUMBER NOT NULL,
	ID_TYPE_ACCES NUMBER NOT NULL,
	nb NUMBER NOT NULL,
	CONSTRAINT ACCES_PK primary key(ID_ACCES),
	CONSTRAINT FK_LIEUX
		FOREIGN KEY (ID_LIEU)
		REFERENCES LIEUX(ID_LIEU),
	CONSTRAINT FK_ACCES
		FOREIGN KEY (ID_TYPE_ACCES)
		REFERENCES TYPE_ACCES(ID_TYPE_ACCES)
);

CREATE TABLE TYPE_ACCES(
	ID_TYPE_ACCES NUMBER NOT NULL,
	NOM VARCHAR(20) NOT NULL,
	CONSTRAINT ACCES_PK primary key(ID_TYPE_ACCES)
	
);

CREATE SEQUENCE TYPE_ACCES_SEQ 
START WITH 1
INCREMENT BY 1
NOCACHE
NOCYCLE;

CREATE TABLE HORAIRE(
	ID_HORAIRE NUMBER NOT NULL,
	HEURE_OUVERTURE VARCHAR2(20) NOT NULL,
	HEURE_FERMETURE VARCHAR2(20) NOT NULL,
	ID_LIEU NUMBER NOT NULL,
	CONSTRAINT HORAIRE_PK primary key(ID_HORAIRE),
	CONSTRAINT FK_LIEUX
		FOREIGN KEY (ID_LIEU)
		REFERENCES LIEUX(ID_LIEU)
);

CREATE SEQUENCE HORAIRE_SEQ 
START WITH 1
INCREMENT BY 1
NOCACHE
NOCYCLE;
